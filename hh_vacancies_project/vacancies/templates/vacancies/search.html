{% extends 'vacancies/base.html' %}

{% block title %}Поиск вакансий{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="mb-4"><i class="bi bi-search"></i> Поиск вакансий</h1>
    
    <!-- Форма поиска -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <form method="get" action="{% url 'vacancy_list' %}">
                <div class="row g-3">
                    <div class="col-md-8">
                        <label class="form-label">Что ищем?</label>
                        <input type="text" name="q" class="form-control" 
                               placeholder="Python разработчик, менеджер, дизайнер..." 
                               value="{{ request.GET.q|default:'' }}">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Регион</label>
                        <select name="area" class="form-select">
                            <option value="">Все регионы</option>
                            <option value="Москва" {% if request.GET.area == 'Москва' %}selected{% endif %}>Москва</option>
                            <option value="Санкт-Петербург" {% if request.GET.area == 'Санкт-Петербург' %}selected{% endif %}>Санкт-Петербург</option>
                            <option value="Новосибирск" {% if request.GET.area == 'Новосибирск' %}selected{% endif %}>Новосибирск</option>
                        </select>
                    </div>
                    
                    <div class="col-md-4">
                        <label class="form-label">Опыт работы</label>
                        <select name="experience" class="form-select">
                            <option value="">Любой опыт</option>
                            <option value="Без опыта" {% if request.GET.experience == 'Без опыта' %}selected{% endif %}>Без опыта</option>
                            <option value="От 1 до 3 лет" {% if request.GET.experience == 'От 1 до 3 лет' %}selected{% endif %}>1-3 года</option>
                            <option value="От 3 до 6 лет" {% if request.GET.experience == 'От 3 до 6 лет' %}selected{% endif %}>3-6 лет</option>
                        </select>
                    </div>
                    
                    <div class="col-md-4">
                        <label class="form-label">Зарплата от</label>
                        <input type="number" name="salary_from" class="form-control" 
                               placeholder="50000" value="{{ request.GET.salary_from|default:'' }}">
                    </div>
                    
                    <div class="col-md-4">
                        <label class="form-label">Тип занятости</label>
                        <select name="employment" class="form-select">
                            <option value="">Любая занятость</option>
                            <option value="Полная занятость" {% if request.GET.employment == 'Полная занятость' %}selected{% endif %}>Полная</option>
                            <option value="Частичная занятость" {% if request.GET.employment == 'Частичная занятость' %}selected{% endif %}>Частичная</option>
                            <option value="Удаленная работа" {% if request.GET.employment == 'Удаленная работа' %}selected{% endif %}>Удаленная</option>
                        </select>
                    </div>
                    
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary btn-lg w-100">
                            <i class="bi bi-search"></i> Найти вакансии
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Быстрые запросы -->
    <div class="card shadow-sm">
        <div class="card-body">
            <h5 class="card-title"><i class="bi bi-lightning"></i> Популярные запросы</h5>
            <div class="d-flex flex-wrap gap-2 mt-3">
                <!-- Вариант 1: Просто перечислить вручную -->
                <a href="{% url 'vacancy_list' %}?q=Python" class="btn btn-outline-primary btn-sm">
                    Python
                </a>
                <a href="{% url 'vacancy_list' %}?q=JavaScript" class="btn btn-outline-primary btn-sm">
                    JavaScript
                </a>
                <a href="{% url 'vacancy_list' %}?q=Java" class="btn btn-outline-primary btn-sm">
                    Java
                </a>
                <a href="{% url 'vacancy_list' %}?q=C#" class="btn btn-outline-primary btn-sm">
                    C#
                </a>
                <a href="{% url 'vacancy_list' %}?q=PHP" class="btn btn-outline-primary btn-sm">
                    PHP
                </a>
                <a href="{% url 'vacancy_list' %}?q=Go" class="btn btn-outline-primary btn-sm">
                    Go
                </a>
                <a href="{% url 'vacancy_list' %}?q=Data Science" class="btn btn-outline-primary btn-sm">
                    Data Science
                </a>
                <a href="{% url 'vacancy_list' %}?q=DevOps" class="btn btn-outline-primary btn-sm">
                    DevOps
                </a>
                <a href="{% url 'vacancy_list' %}?q=Frontend" class="btn btn-outline-primary btn-sm">
                    Frontend
                </a>
                <a href="{% url 'vacancy_list' %}?q=Backend" class="btn btn-outline-primary btn-sm">
                    Backend
                </a>
            </div>
            
            <div class="mt-4">
                <h6><i class="bi bi-info-circle"></i> Советы по поиску:</h6>
                <ul class="text-muted">
                    <li>Используйте конкретные технологии: "Python Django", "React JavaScript"</li>
                    <li>Указывайте желаемую зарплату для точного подбора</li>
                    <li>Фильтруйте по региону для локальных вакансий</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}